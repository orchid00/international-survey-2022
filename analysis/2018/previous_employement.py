#!/usr/bin/env python
# coding: utf-8

# <h1>Table of Contents<span class="tocSkip"></span></h1>
# <div class="toc"><ul class="toc-item"><li><span><a href="#Introduction" data-toc-modified-id="Introduction-1"><span class="toc-item-num">1&nbsp;&nbsp;</span>Introduction</a></span><ul class="toc-item"><li><span><a href="#Questions-in-this-section" data-toc-modified-id="Questions-in-this-section-1.1"><span class="toc-item-num">1.1&nbsp;&nbsp;</span>Questions in this section</a></span></li><li><span><a href="#Setting-up" data-toc-modified-id="Setting-up-1.2"><span class="toc-item-num">1.2&nbsp;&nbsp;</span>Setting up</a></span></li></ul></li><li><span><a href="#Questions-about-previous-employment" data-toc-modified-id="Questions-about-previous-employment-2"><span class="toc-item-num">2&nbsp;&nbsp;</span>Questions about previous employment</a></span><ul class="toc-item"><li><span><a href="#Australia" data-toc-modified-id="Australia-2.1"><span class="toc-item-num">2.1&nbsp;&nbsp;</span>Australia</a></span><ul class="toc-item"><li><span><a href="#Where-the-previous-job-was-based" data-toc-modified-id="Where-the-previous-job-was-based-2.1.1"><span class="toc-item-num">2.1.1&nbsp;&nbsp;</span>Where the previous job was based</a></span></li><li><span><a href="#What-were-the-reasons-to-choose-the-current-job" data-toc-modified-id="What-were-the-reasons-to-choose-the-current-job-2.1.2"><span class="toc-item-num">2.1.2&nbsp;&nbsp;</span>What were the reasons to choose the current job</a></span></li></ul></li><li><span><a href="#Germany" data-toc-modified-id="Germany-2.2"><span class="toc-item-num">2.2&nbsp;&nbsp;</span>Germany</a></span><ul class="toc-item"><li><span><a href="#Where-the-previous-job-was-based" data-toc-modified-id="Where-the-previous-job-was-based-2.2.1"><span class="toc-item-num">2.2.1&nbsp;&nbsp;</span>Where the previous job was based</a></span></li><li><span><a href="#What-were-the-reasons-to-choose-the-current-job" data-toc-modified-id="What-were-the-reasons-to-choose-the-current-job-2.2.2"><span class="toc-item-num">2.2.2&nbsp;&nbsp;</span>What were the reasons to choose the current job</a></span></li></ul></li><li><span><a href="#New-Zealand" data-toc-modified-id="New-Zealand-2.3"><span class="toc-item-num">2.3&nbsp;&nbsp;</span>New Zealand</a></span><ul class="toc-item"><li><span><a href="#Where-the-previous-job-was-based" data-toc-modified-id="Where-the-previous-job-was-based-2.3.1"><span class="toc-item-num">2.3.1&nbsp;&nbsp;</span>Where the previous job was based</a></span></li><li><span><a href="#What-were-the-reasons-to-choose-the-current-job" data-toc-modified-id="What-were-the-reasons-to-choose-the-current-job-2.3.2"><span class="toc-item-num">2.3.2&nbsp;&nbsp;</span>What were the reasons to choose the current job</a></span></li></ul></li><li><span><a href="#South-Africa" data-toc-modified-id="South-Africa-2.4"><span class="toc-item-num">2.4&nbsp;&nbsp;</span>South Africa</a></span><ul class="toc-item"><li><span><a href="#Where-the-previous-job-was-based" data-toc-modified-id="Where-the-previous-job-was-based-2.4.1"><span class="toc-item-num">2.4.1&nbsp;&nbsp;</span>Where the previous job was based</a></span></li><li><span><a href="#What-were-the-reasons-to-choose-the-current-job" data-toc-modified-id="What-were-the-reasons-to-choose-the-current-job-2.4.2"><span class="toc-item-num">2.4.2&nbsp;&nbsp;</span>What were the reasons to choose the current job</a></span></li></ul></li><li><span><a href="#United-Kingdom" data-toc-modified-id="United-Kingdom-2.5"><span class="toc-item-num">2.5&nbsp;&nbsp;</span>United Kingdom</a></span><ul class="toc-item"><li><span><a href="#Where-the-previous-job-was-based" data-toc-modified-id="Where-the-previous-job-was-based-2.5.1"><span class="toc-item-num">2.5.1&nbsp;&nbsp;</span>Where the previous job was based</a></span></li><li><span><a href="#What-were-the-reasons-to-choose-the-current-job" data-toc-modified-id="What-were-the-reasons-to-choose-the-current-job-2.5.2"><span class="toc-item-num">2.5.2&nbsp;&nbsp;</span>What were the reasons to choose the current job</a></span></li></ul></li><li><span><a href="#United-States" data-toc-modified-id="United-States-2.6"><span class="toc-item-num">2.6&nbsp;&nbsp;</span>United States</a></span><ul class="toc-item"><li><span><a href="#Where-the-previous-job-was-based" data-toc-modified-id="Where-the-previous-job-was-based-2.6.1"><span class="toc-item-num">2.6.1&nbsp;&nbsp;</span>Where the previous job was based</a></span></li><li><span><a href="#What-were-the-reasons-to-choose-the-current-job" data-toc-modified-id="What-were-the-reasons-to-choose-the-current-job-2.6.2"><span class="toc-item-num">2.6.2&nbsp;&nbsp;</span>What were the reasons to choose the current job</a></span></li></ul></li><li><span><a href="#Rest-of-the-world" data-toc-modified-id="Rest-of-the-world-2.7"><span class="toc-item-num">2.7&nbsp;&nbsp;</span>Rest of the world</a></span><ul class="toc-item"><li><span><a href="#Where-the-previous-job-was-based" data-toc-modified-id="Where-the-previous-job-was-based-2.7.1"><span class="toc-item-num">2.7.1&nbsp;&nbsp;</span>Where the previous job was based</a></span></li><li><span><a href="#What-were-the-reasons-to-choose-the-current-job" data-toc-modified-id="What-were-the-reasons-to-choose-the-current-job-2.7.2"><span class="toc-item-num">2.7.2&nbsp;&nbsp;</span>What were the reasons to choose the current job</a></span></li></ul></li></ul></li></ul></div>

# # Introduction

# Several questions were about the participants previous job. The idea is to collect insights of their career path and understand what are their motivations to be an RSE.
# 
# We also asked the participants to rank the reasons why they chose their actual position among 8 different ones:
# * Desire to work in a research environment
# * Freedom to choose own working practices
# * Desire to advance research
# * I want to learn new skills
# * Opportunity to develop software
# * Flexible working hours
# * Ability to work across disciplines
# * Opportunity for career advancement
# * The salary

# ## Questions in this section
# 
# * `Where was your previous job based?`: one choice
# * `What were the reasons to choose the current job`: ranking

# ## Setting up

# In[1]:


get_ipython().run_cell_magic('capture', ' ', '# Import notebook containing the imports the functions and the dataset\n%run "./0. Imports and functions.ipynb"\n\n# Import notebook containing sampled dataset\n%run "./1. Overview and sampling.ipynb"')


# # Questions about previous employment

# In[2]:


prev_work = ['prevEmp1. Where was your previous job based?']
reason_choice = [x for x in df.columns if x[:8] == 'prevEmp2']


# ## Australia

# ### Where the previous job was based

# In[3]:


country = 'Australia'
category = 'Where the previous job was based'
results = count_diff(df, prev_work, country, category)
results


# In[4]:


plot_cat_comparison(results, country=country, category=category)


# ### What were the reasons to choose the current job

# In[5]:


category = 'Reasons to choose current job'
results = count_ranking(df, reason_choice, country, category)
results


# In[6]:


plot_ranking(results, category, country)


# ## Germany

# ### Where the previous job was based

# In[7]:


country = 'Germany'
category = 'Where the previous job was based'
results = count_diff(df, prev_work, country, category)
results


# In[8]:


plot_cat_comparison(results, country=country, category=category)


# ### What were the reasons to choose the current job

# In[9]:


category = 'Reasons to choose current job'
results = count_ranking(df, reason_choice, country, category)
results


# In[10]:


plot_ranking(results, category, country)


# ## New Zealand

# ### Where the previous job was based

# In[11]:


country = 'New Zealand'
category = 'Where the previous job was based'
results = count_diff(df, prev_work, country, category)
results


# In[12]:


plot_cat_comparison(results, country=country, category=category)


# ### What were the reasons to choose the current job

# In[13]:


category = 'Reasons to choose current job'
results = count_ranking(df, reason_choice, country, category)
results


# In[14]:


plot_ranking(results, category, country)


# ## South Africa

# ### Where the previous job was based

# In[15]:


country = 'South Africa'
category = 'Where the previous job was based'
results = count_diff(df, prev_work, country, category)
results


# In[16]:


plot_cat_comparison(results, country=country, category=category)


# ### What were the reasons to choose the current job

# In[17]:


category = 'Reasons to choose current job'
results = count_ranking(df, reason_choice, country, category)
results


# In[18]:


plot_ranking(results, category, country)


# ## United Kingdom

# When asked where they were working prior to the current position, 64% mention University, in second comes Private company with 20%.  Compare to last year, more people comes from University and none of them declared it is their first job when in 2017, it was 11% of our participants. 
# 
# It appears that the *Desire to work in a research environment*, the *Desire to advance research* and the *Opportunity to develop software* are more often ranked as the first reasons than any other ones. On the contraries, *the salary* is the least common reason for choosing a position as RSE. This is exactly the same tendencies as last year.

# ### Where the previous job was based

# In[19]:


country = 'United Kingdom'
category = 'Where the previous job was based'
results = count_diff(df, prev_work, country, category)
results


# In[20]:


plot_cat_comparison(results, country=country, category=category)


# ### What were the reasons to choose the current job

# In[21]:


category = 'Reasons to choose current job'
results = count_ranking(df, reason_choice, country, category)
results


# In[22]:


plot_ranking(results, category, country)


# ## United States

# ### Where the previous job was based

# In[23]:


country = 'United States'
category = 'Where the previous job was based'
results = count_diff(df, prev_work, country, category)
results


# In[24]:


plot_cat_comparison(results, country=country, category=category)


# ### What were the reasons to choose the current job

# In[25]:


category = 'Reasons to choose current job'
results = count_ranking(df, reason_choice, country, category)
results


# In[26]:


plot_ranking(results, category, country)


# ## Rest of the world

# ### Where the previous job was based

# In[27]:


country = 'World'
category = 'Where the previous job was based'
results = count_diff(df, prev_work, country, category)
results


# In[28]:


plot_cat_comparison(results, country=country, category=category)


# ### What were the reasons to choose the current job

# In[29]:


category = 'Reasons to choose current job'
results = count_ranking(df, reason_choice, country, category)
results


# In[30]:


plot_ranking(results, category, country)

